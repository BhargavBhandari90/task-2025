@use 'variables' as vars;

.wp-block-task-2025-advanced-slider {

  width: 1000px;
  max-width: 100%;
  margin-inline: auto;

  .slider-nav {
    display: flex;
    justify-content: end;
    margin-bottom: vars.$slider-gap;
  }

  .slider {
    overflow-x: auto;
    overflow-y: hidden;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch; /* smooth scrolling on iOS */
    scrollbar-width: none; /* Firefox */

    &::-webkit-scrollbar {
      display: none; /* Chrome, Safari */
    }

    .slider-grid {
      display: grid;
      grid-template-rows: repeat(2, auto);
      grid-auto-flow: column;
      grid-auto-columns: calc(100% / #{vars.$slider-max-columns});
      gap: vars.$slider-gap;
      scroll-snap-align: start;
      // overflow-x: auto;
      // overscroll-behavior-x: contain;
      // -webkit-overflow-scrolling: touch;
      // scrollbar-width: thin; // Firefox

      > .slide-item {
        grid-row: 2;
        background: #fff;
        border: 1px solid rgba(0, 0, 0, 0.08);
        border-radius: 8px;
        padding: 16px;
        display: grid;
        grid-template-rows: auto auto 1fr;
        gap: 8px;
        scroll-snap-align: start;

        &:nth-child(1) { grid-column: 1; grid-row: 1; }
        &:nth-child(2) { grid-column: 2; grid-row: 1; }
        &:nth-child(3) { grid-column: 3; grid-row: 1; }
        &:nth-child(4) { grid-column: 4; grid-row: 1; }
        &:nth-child(5) { grid-column: 5; grid-row: 1; }

        .slide-icon {
          width: 40px;
          height: 40px;
          object-fit: cover;
        }

        h3 {
          font-size: 1rem;
          font-weight: 700;
          margin: 0;
          color: #2d2d2d;
        }

        .slide-desc {
          p {
            margin: 0;
            font-size: 0.92rem;
            line-height: 1.5;
            color: #555;
          }
        }
      }

      > .slide-item:nth-child(-n + #{vars.$slider-max-columns}) {
        grid-row: 1;
      }
    }

    // Optional: hide nav if <= 5 items
    &:not(.has-more-than-5) .slider-nav {
      display: none;
    }
  }
}
